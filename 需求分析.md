### **功能需求说明：基于 Python + Electron 的个性化小说创作应用（基础版 / 无 RAG）**

---

#### **1. 项目目标**

本项目旨在构建一款桌面端 AI 辅助小说创作工具，通过“由人物出发、由内而外构建故事”的写作方法，帮助用户高质量地完成从人物设定、到故事结构、再到章节撰写的全链路创作流程。

应用采用 **Electron (UI) + Python (AI 生成服务)** 架构，前后端解耦，便于维护和扩展。

---

#### **2. 核心功能模块**

本版本包含四个主要创作模块，构成严谨、渐进、可验证的创作链路：

```
人物生成器 → 故事梗概生成器 → 章节规划器 → 剧情扩写器
```

---

### **2.1 人物生成器**

**目标**：通过用户输入的问题与主题指导，结合预制 Prompt 模板，生成具有内在动力与生命感的人物设定档案。

**输出内容结构包含：**

| 字段          | 描述               |
| ----------- | ---------------- |
| 基本信息        | 姓名、年龄、性别（可选匿名生成） |
| 社会背景与家庭环境   | 家庭成员、成长氛围、社会阶层地位 |
| 性格特征        | 核心性格、弱点、驱动力、价值观  |
| 成长经历与关键人生节点 | 对人物塑造有决定意义的事件链   |
| 教育与文化熏陶     | 知识体系、审美、思想影响来源   |
| 职业、技能与行动风格  | 实际能力、谋生方式、外在表现   |
| 内在矛盾        | 推动人物行动与冲突的内部张力核心 |

**设计原则**：
人物不是“标签堆叠”，而是“动机-经历-性格”三者强关联的连贯体。

---

### **2.2 故事梗概生成器**

**生成逻辑**：
根据人物设定档案及人物之间的关系网，由内向外推导故事结构。

**目标**：确保故事情节并非拼接，而是从人物性格、内在矛盾与行动冲突自然生长。

**输出内容包含：**

| 输出项    | 描述                             |
| ------ | ------------------------------ |
| 核心主题   | 故事试图讨论的思想或情感主线                 |
| 核心矛盾   | 推动剧情发展的根本张力来源                  |
| 人物关系网  | 人物之间的依存、对抗、依赖、背离关系             |
| 世界设定   | 环境、社会规则、文化背景等框架                |
| 情节主线结构 | 开端 → 冲突 → 发展 → 高潮 → 结局 的完整逻辑演化 |
| 整体梗概文本 | 可读性强、逻辑一致的总结文本                 |

**关键要求**：
故事必须符合“人物推动情节，而非情节驱动人物”。

---

### **2.3 章节规划器**

**目标**：在故事梗概的基础上，将故事主线拆分为若干章节，并为每章生成结构化写作指导。

**输出内容包含：**

| 字段             | 描述                                |
| -------------- | --------------------------------- |
| 章节序号           | 第 1 章，第 2 章…                      |
| 章节定位           | 此章节处于情节曲线的功能位置（铺垫/推进/冲突/转折/高潮/收束） |
| 情节点与戏剧目标       | 该章需要发生的关键事件和人物行动目标                |
| 内在冲突表现         | 展现人物内心矛盾的方式                       |
| 章节概述（50~300 字） | 可直接进入扩写器进行创作的内容骨架                 |

---

### **2.4 剧情扩写器**

**目标**：根据章节概述 + 整体故事风格要求 + 人物性格逻辑，生成可直接成为小说正文的篇章内容。

**扩写要求：**

* 前后段落逻辑一致
* 人物言行必须符合设定与成长轨迹
* 语言风格可选（口语、文言、轻小说、严肃文学等）
* 可多次迭代，支持用户“继续写 / 改写 / 加深描写”

**输出**：符合小说表达与阅读节奏的长篇连续文本。

---

#### **3. 系统架构（不变）**

```
Electron (UI & 控制)
   ↓ 本地 HTTP
Python AI 服务 (文本生成与推理)
```

前端负责界面和流程，后端负责文本生成与模型逻辑。

---

#### **4. 版本交付阶段**

| 阶段    | 完成功能            |
| ----- | --------------- |
| MVP-1 | 人物生成器 + 故事梗概生成器 |
| MVP-2 | 章节规划器           |
| MVP-3 | 剧情扩写器 + 项目保存与导出 |
